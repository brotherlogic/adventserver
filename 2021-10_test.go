package main

import "testing"

func Test2021Day10Overall(t *testing.T) {
	data := `[({(<(())[]>[[{[]{<()<>>
		[(()[<>])]({[<{<<[]>>(
		{([(<{}[<>[]}>{[]{[(<()>
		(((({<>}<{<{<>}{[]{[]{}
		[[<[([]))<([[{}[[()]]]
		[{[{({}]{}}([{[{{{}}([]
		{<[[]]>}<{[{[{[]{()[[[]
		[<(<(<(<{}))><([]([]()
		<{([([[(<>()){}]>(<<{{
		<{([{{}}[<[[[<>{}]]]>[]]`

	sum := getSum(data)
	if sum != 26397 {
		t.Errorf("Bad Sum %v vs 26397", sum)
	}
}

func Test2021Day10(t *testing.T) {
	cases := []struct {
		in   string
		want string
	}{
		{"[({(<(())[]>[[{[]{<()<>>", ""},
		{"[(()[<>])]({[<{<<[]>>(", ""},
		{"{([(<{}[<>[]}>{[]{[(<()>", "}"},
		{"(((({<>}<{<{<>}{[]{[]{}", ""},
		{"[[<[([]))<([[{}[[()]]]", ")"},
		{"[{[{({}]{}}([{[{{{}}([]", "]"},
		{"{<[[]]>}<{[{[{[]{()[[[]", ""},
		{"[<(<(<(<{}))><([]([]()", ")"},
		{"<{([([[(<>()){}]>(<<{{", ">"},
		{"<{([{{}}[<[[[<>{}]]]>[]]", ""},
	}

	for _, c := range cases {
		got := getFirstInvalid(c.in)
		if got != c.want {
			t.Errorf("Spec(%v) == %v, want %v", c.in, got, c.want)
		}
	}
}

func Test2021Day10Focus(t *testing.T) {
	data := "[({(<(())[]>[[{[]{<()<>>"
	res := getFirstInvalid(data)
	if res != "" {
		t.Errorf("Bad Focus: %v", res)
	}
}
